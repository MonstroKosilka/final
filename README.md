# Final ‚Äî Full‚Äëstack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Final** ‚Äî —ç—Ç–æ full‚Äëstack –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑:

* **Backend** ‚Äî Go API (HTTP, JSON, structured logs)
* **Frontend** ‚Äî SPA –Ω–∞ Vue.js, –æ—Ç–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ nginx
* **Monitoring stack** ‚Äî Prometheus, Grafana, Loki, Promtail

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ Docker Compose** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:

* –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
* —Å–±–æ—Ä–∞ **–º–µ—Ç—Ä–∏–∫** (Prometheus)
* –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ **–ª–æ–≥–æ–≤ backend / frontend** (Loki)
* –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ **Grafana**

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ **–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã** –∏ –ø–µ—Ä–µ–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     HTTP      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Frontend ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ ‚îÇ  Backend   ‚îÇ
‚îÇ  (Vue)   ‚îÇ               ‚îÇ   (Go)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ nginx                       ‚îÇ
     ‚îÇ                             ‚îÇ
     ‚ñº                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Grafana  ‚îÇ ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ ‚îÇ Prometheus ‚îÇ
‚îÇ          ‚îÇ ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ ‚îÇ    Loki    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚ñ≤
              ‚îÇ
          Promtail
```

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

* **Docker** >= 24
* **Docker Compose** (v2)
* –û–°: Linux / macOS / Windows (Docker Desktop + WSL2)

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
docker version
docker compose version
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
final/
‚îú‚îÄ‚îÄ backend/                 # Go backend
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ frontend/                # Vue frontend + nginx
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ default.conf
‚îÇ
‚îú‚îÄ‚îÄ monitoring/
|   ‚îú‚îÄ‚îÄ prometheus/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prometheus.yml   # Prometheus config
‚îÇ   ‚îú‚îÄ‚îÄ loki/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.yml       # Loki config
‚îÇ   ‚îî‚îÄ‚îÄ promtail/
‚îÇ       ‚îî‚îÄ‚îÄ config.yml       # Promtail config
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

---

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone <repository-url>
cd final
```

---

### 2Ô∏è‚É£ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
docker compose up -d --build
```

Docker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

* —Å–æ–±–µ—Ä—ë—Ç backend –∏ frontend
* –ø–æ–¥–Ω–∏–º–µ—Ç monitoring‚Äëstack
* —Å–æ–∑–¥–∞—Å—Ç volumes –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

### 3Ô∏è‚É£ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å      | URL                                            | –û–ø–∏—Å–∞–Ω–∏–µ       |
| ----------- | ---------------------------------------------- | -------------- |
| Frontend    | [http://localhost:8080](http://localhost:8080) | Web UI         |
| Backend API | [http://localhost:8081](http://localhost:8081) | REST API       |
| Prometheus  | [http://localhost:9090](http://localhost:9090) | –ú–µ—Ç—Ä–∏–∫–∏        |
| Grafana     | [http://localhost:3000](http://localhost:3000) | UI –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ |
| Loki API    | [http://localhost:3100](http://localhost:3100) | –õ–æ–≥–∏           |

Grafana –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```
login: admin
password: admin
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ (Prometheus)

Backend —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∞–¥—Ä–µ—Å—É:

```
GET /metrics
```

Prometheus –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥.

–ü—Ä–æ–≤–µ—Ä–∫–∞:

* Prometheus ‚Üí **Status ‚Üí Targets**
* backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ **UP**

---

## üßæ –õ–æ–≥–∏ (Loki + Promtail)

Promtail —Å–æ–±–∏—Ä–∞–µ—Ç docker‚Äë–ª–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ Loki.

–õ–æ–≥–∏ —Ä–∞–∑–º–µ—á–µ–Ω—ã label‚Äë–æ–º:

```
app = backend | frontend
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

Grafana ‚Üí **Explore ‚Üí Loki**

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

```logql
{app="backend"}
```

```logql
{app="frontend"}
```

```logql
{app="backend", level="error"}
```

---

## üíæ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Docker volumes:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç  | Volume             |
| ---------- | ------------------ |
| Prometheus | prometheus-data    |
| Grafana    | grafana-data       |
| Loki       | loki-data          |
| Promtail   | promtail-positions |

‚ö†Ô∏è **–í–∞–∂–Ω–æ**

* –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å:

  ```bash
  docker compose down
  docker compose up -d
  ```

* ‚ùå **–ù–ï** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

  ```bash
  docker compose down -v
  ```

  (—ç—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

---

## üßπ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
docker compose down
```

---

## üß™ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker compose logs -f backend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ volumes
docker volume ls

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å
docker compose build frontend
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—É—é –ª–æ–∫–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É:

* —Ä–∞–±–æ—Ç–∞—é—â–∏–π frontend + backend
* –º–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
* —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
